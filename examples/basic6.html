<!DOCTYPE html>
<!-- include three.js -->
<script src='../vendor/three.js/build/three.js'></script>
<script src='../vendor/three.js/editor/js/libs/app.js'></script>

<!-- include js-aruco -->
<script src='../vendor/js-aruco/svd.js'></script>
<script src='../vendor/js-aruco/posit1-patched.js'></script>
<script src='../vendor/js-aruco/cv.js'></script>
<script src='../vendor/js-aruco/aruco.js'></script>

<script src='../src/threex.videograbbing3.js'></script>
<script src='../src/threex.jsarucomarker2.js'></script>

<body style='margin: 0px; overflow: hidden; text-align:center;'><script>
	var appPlayer = new APP.Player();
	
	// init renderer
	var renderer	= new THREE.WebGLRenderer({
		antialias	: true,
	});
	appPlayer.setRenderer(renderer)

	document.body.appendChild( renderer.domElement );

	// init scene and camera
	var scene = new THREE.Scene()
	appPlayer.setScene(scene)

	var camera	= new THREE.PerspectiveCamera(40, window.innerWidth / window.innerHeight, 0.01, 1000);
	camera.position.z = 2;
	appPlayer.setCamera(camera)

	appPlayer.setSize( window.innerWidth, window.innerHeight );

	// add a torus
	var geometry = new THREE.BoxGeometry(1,1,1)
	var material = new THREE.MeshNormalMaterial()
	var mesh = new THREE.Mesh(geometry, material);
	scene.add( mesh );
	
;(function(){
	var scriptText = function(){
		function update(event){
			this.rotation.x += 0.2 * event.delta/1000 * Math.PI * 2
		}
	}.toString().split('\n').slice(1, -1).join('\n')
	
	console.log(scriptText)
	
	appPlayer.initScript(mesh, {
		source : scriptText
	})
})()
	
	
	appPlayer.play()


</script></body>
